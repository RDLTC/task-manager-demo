<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Add Task</title>
        <meta charset="UTF-8">
        <script>
            function toggleCheckboxes(checkboxId) {
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    if (checkbox.id !== checkboxId) {
                        checkbox.checked = false;
                    }
                });
            }
        </script>
    </head>

    <body>
        <form th:object="${task}" th:action="@{/tasks/addTask}" method="post">
            <div>
                <label for="title">Title:</label>
                <input id="title" th:field="*{title}" type="text" placeholder="Title"/>
            </div>
            <div style="color: red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Invalid Title.</div>

            <div>
                <label for="description">Description:</label>
                <textarea id="description" th:field="*{description}" rows="4" cols="50"/>
            </div>
            <div style="color: red" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Invalid Description.</div>

            <div>
                <label>
                    ONGOING:
                    <input id="ongoing" th:field="*{status}" type="checkbox" value="ONGOING" onclick="toggleCheckboxes('ongoing')">
                </label>
                <label>
                    FINISHED:
                    <input id="finished" th:field="*{status}" type="checkbox" value="FINISHED" onclick="toggleCheckboxes('finished')">
                </label>
            </div>
            <div style="color: red" th:if="${#fields.hasErrors('status')}" th:errors="*{status}">Choose an option</div>

            <div>
                <input type="submit">
            </div>
        </form>
    </body>
</html>
